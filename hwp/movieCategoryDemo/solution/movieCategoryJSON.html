<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Document</title>
<script>
let movieList=[{"idMovie":"1","titleMovie":"Le dîner de con","idCategory":"1","validMovie":"1"},{"idMovie":"2","titleMovie":"Les bronzés font du ski","idCategory":"1","validMovie":"1"},{"idMovie":"3","titleMovie":"Taxi driver","idCategory":"4","validMovie":"1"},{"idMovie":"4","titleMovie":"Titanic","idCategory":"4","validMovie":"1"},{"idMovie":"5","titleMovie":"Pulp fiction","idCategory":"3","validMovie":"1"},{"idMovie":"6","titleMovie":"Cinquième élément","idCategory":"2","validMovie":"1"},{"idMovie":"7","titleMovie":"Les gendarmes","idCategory":"1","validMovie":"1"},{"idMovie":"8","titleMovie":"Men in black","idCategory":"2","validMovie":"1"},{"idMovie":"9","titleMovie":"Oceans's twelve","idCategory":"3","validMovie":"1"},{"idMovie":"10","titleMovie":"Shining","idCategory":"1","validMovie":"1"},{"idMovie":"11","titleMovie":"Orange mécanique","idCategory":"2","validMovie":"1"},{"idMovie":"12","titleMovie":"Le parrain","idCategory":"3","validMovie":"1"},{"idMovie":"13","titleMovie":"Gladiator","idCategory":"5","validMovie":"1"},{"idMovie":"14","titleMovie":"Le jour le plus long","idCategory":"5","validMovie":"1"},{"idMovie":"15","titleMovie":"Les affranchis","idCategory":"3","validMovie":"1"},{"idMovie":"16","titleMovie":"Les oiseaux","idCategory":"4","validMovie":"1"},{"idMovie":"17","titleMovie":"Jumanji","idCategory":"2","validMovie":"1"},{"idMovie":"18","titleMovie":"Bienvenue à Gattaca","idCategory":"2","validMovie":"1"},{"idMovie":"19","titleMovie":"Erin Brokovich","idCategory":"4","validMovie":"1"},{"idMovie":"20","titleMovie":"Talons aiguilles","idCategory":"4","validMovie":"1"},{"idMovie":"21","titleMovie":"Radin","idCategory":"1","validMovie":"1"}];

let categoryList=[{"idCategory":"1","category":"Comédie","validCategory":"1"},{"idCategory":"2","category":"Fantastique","validCategory":"1"},{"idCategory":"3","category":"Thriller","validCategory":"1"},{"idCategory":"4","category":"Drame","validCategory":"1"},{"idCategory":"5","category":"Historique","validCategory":"1"}];

console.log(movieList);
console.log(categoryList);

//stringify
movieListString=JSON.stringify(movieList);
console.log(typeof(movieListString));
console.log(movieListString);

//API localStorage
localStorage.setItem('dataMovie',movieListString);

//parse
data=localStorage.getItem('dataMovie');
movieListJSONfromString=JSON.parse(data);//movieListString
console.log(typeof(movieListJSONfromString));
console.log(movieListJSONfromString);

//PK FK relationship
movieList.forEach(function(item,index){
let searchIdCategory=item.idCategory;
let searchCategory=categoryList.find( categoryElement => categoryElement.idCategory==searchIdCategory).category;
console.log(`Movie ${item.titleMovie} in the category ${searchCategory}`);
});


</script>


</head>
<body>
	
</body>
</html>